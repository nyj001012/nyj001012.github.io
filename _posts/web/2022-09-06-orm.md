---
title: "ORM과 TypeORM"
excerpt: "ORM에 대하여, TypeORM 사용기"
category: 
  - web
author_profile: true
sidebar:
  - nav: "main" 
tag:
  - ORM
  - TypeORM
toc: true
toc_sticky: true
last_modified_at: 2022-09-06T00:00:00+09:00
---

# ORM
## ORM 이란
- ORM(Object Relational Mapping; 객체 관계 매핑)은 뜻 그대로 **객체와 데이터베이스의 관계를 매핑**해주는 역할을 한다.  
- 즉, 객체와 관계형 데이터베이스(RDBMS; Relational Database Management System)의 데이터를 **자동으로 매핑**해준다.  
- 또한 **MVC 패턴에서 모델을 기술**한다.
- ORM Framework: TypeORM(Type script), MyBatis/Hibernate(Java), Sequelize(Node.js)

## ORM을 써야 하는 이유, 장점
- 객체 지향적이기 때문에, 더 직관적이고 비즈니스 로직에 더 집중할 수 있게 해준다.
  - SQL 선언문, 할당, 종료 같은 부수적인 코드가 없거나 상당히 줄일 수 있다.
  - 각종 객체에 대한 코드를 별도로 작성하기 때문에 코드의 가독성을 올려준다.
  - 객체 지향적 접근으로 생산성이 증가한다.

- 재사용 및 유지보수의 편리성이 증가한다.
  - ORM은 기존 객체와 독립적인 객체로 취급되어 해당 객체를 재활용할 수 있다.
  - 따라서 MVC 패턴에 유리하다.

- DBMS와의 종속성을 줄일 수 있다.
  - 스키마의 변경이라든가 극단적으로 DBMS를 교체하는 거대한 작업에도 비교적 적은 리스크와 시간이 소요된다.

## ORM의 단점
- 완벽한 ORM만으로는 서비스를 구현하기 어렵다.
  - 사용하기엔 편하지만, 설계는 신중하게 해야 한다.
  - 프로젝트의 복잡성이 커지면, 설계의 난이도는 증가할 가능성이 있다.
  - 잘못 구현하면 성능이 떨어지거나 일관성이 깨질 수 있다.
  - 자주 사용되는 큰 규모의 쿼리는 속도를 위해 저장 프로시저를 쓰는 등, 별도의 튜닝이 필요할 수 있다.

- 프로시저가 많은 시스템에서는 ORM의 장점을 활용하기 어렵다.
  - 프로시저가 많을수록 객체로 변환하는 과정에서 생산성 저하나 리스크가 많이 발생할 수 있다.

# Type Script: TypeORM
> 공식 문서: <https://typeorm.io/>

## Getting Started 번역
[원문 보기](https://typeorm.io/)

TypeORM은 NodeJS, Browser, Cordova, PhoneGap, Ionic, React Native, NativeScript, Expo 및 전자 플랫폼에서 동작 가능하고 TypeScript와 JavaScript (ES5, ES6, ES7, ES8)에서 사용 가능한 ORM 입니다. 목표는 최신 Javascript를 항상 지원하고, 몇 안 되는 테이블을 가진 작은 프로그램부터 다수의 데이터베이스를 가진 대규모 기업용 프로그램까지 데이터베이스를 사용하는 어떠한 종류의 프로그램이라도 개발할 수 있게끔 도와주는 부가적인 부분까지 지원하는 것입니다.

TypeORM은 현재 존재하는 다른 모든 JavaScript ORM들과는 다르게, [Active Record 패턴과 Data Mapper 패턴](https://velog.io/@koreanhole/Active-Record%ED%8C%A8%ED%84%B4%EA%B3%BC-Data-Mapper-%ED%8C%A8%ED%84%B4) 모두를 지원합니다. 이는 **높은 퀄리티의, 느슨하게 연결된, 확장 가능한, 지속 가능한 프로그램을 가장 생산적인 방식으로 작성**할 수 있음을 의미합니다.

## Installation
패키지 매니저로 yarn을, DBMS로 MySQL2를 기준으로 하여 install하도록 하겠다.

> yarn add typeorm

# 참고 자료
- [ORM](#orm)
  - https://hanamon.kr/orm%EC%9D%B4%EB%9E%80-nodejs-lib-sequelize-%EC%86%8C%EA%B0%9C/
  - http://www.incodom.kr/ORM
  - https://changrea.io/jpa/orm/
